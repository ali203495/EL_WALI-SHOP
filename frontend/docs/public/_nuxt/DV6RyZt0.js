import{_ as M,a as z}from"./Dn4G89Pg.js";import{d as H,s as O,y as Y,V as W,z as j,r as T,Y as q,x as c,u as G,o as J,g as v,c as r,E as k,k as e,e as t,m as h,f as b,w as y,t as i,F as u,C as f,D as A,_ as K,a,h as w,i as Q}from"./k2DC4fSl.js";import{u as U}from"./BG4MH3bC.js";import"./BTg8e7mj.js";const X={class:"pdp-wrapper"},Z={key:2,class:"pdp-page"},tt={class:"container"},st={class:"breadcrumbs"},et={class:"current"},ot={class:"product-main"},at={class:"product-gallery"},nt={class:"main-image"},rt=["src","alt"],it={class:"thumbnails"},lt=["onClick"],ct=["src","alt"],dt={class:"product-details"},ut={class:"product-header"},_t={key:0,class:"brand"},pt={class:"rating-review"},mt={class:"stars"},gt={key:0},vt={class:"review-count"},ht={class:"price-section"},yt={class:"price"},ft={class:"description"},kt={class:"actions"},bt=["disabled"],wt={key:0,class:"specs-section"},Ct={class:"specs-grid"},xt={key:0,class:"related-products"},Pt={class:"related-grid"},St={class:"related-image"},$t=["src","alt"],Lt={class:"related-info"},Nt={class:"related-price"},Tt={class:"store-cta-section"},At={class:"cta-content"},Et=H({__name:"[id]",async setup(Vt){let _,C;const E=O(),x=Y(),{addToCart:V}=U(),{success:B}=W(),[{data:s,pending:P,error:S},{data:$}]=([_,C]=j(()=>Promise.all([x.getProduct(Number(E.params.id)),x.getProducts()])),_=await _,C(),_);T(1);const p=T("");q(()=>{s.value&&s.value.image_url&&(p.value=s.value.image_url)});const L=c(()=>!$.value||!s.value?[]:$.value.filter(l=>l.category_id===s.value?.category_id&&l.id!==s.value?.id).slice(0,4)),F=l=>{p.value=l,v.fromTo(".main-image img",{opacity:.5},{opacity:1,duration:.3})},I=()=>{if(!s.value)return;const l={...s.value,image_url:s.value.image_url||"",stock:s.value.stock||0};V(l),B(`${s.value.name} has been added to your cart.`)},N=c(()=>{const l=s.value?.rating||0,o=Math.floor(l),m=l%1>=.5?1:0;return{full:o,half:m,empty:5-o-m}}),R=()=>{window.location.reload()};return G({title:c(()=>s.value?s.value.name:"Product Details"),meta:[{name:"description",content:c(()=>s.value?.description||"Product details")},{property:"og:title",content:c(()=>s.value?.name)},{property:"og:description",content:c(()=>s.value?.description)},{property:"og:image",content:c(()=>s.value?.image_url)},{name:"twitter:card",content:"summary_large_image"}]}),J(()=>{!P.value&&!S.value&&s.value&&(v.from(".product-gallery",{x:-50,opacity:0,duration:.6,ease:"power2.out"}),v.from(".product-details",{x:50,opacity:0,duration:.6,ease:"power2.out",delay:.1}),v.from(".related-card",{y:30,opacity:0,stagger:.1,duration:.5,delay:.3}))}),(l,o)=>{const m=M,D=z,g=K;return a(),r("div",X,[e(P)?(a(),k(m,{key:0,message:"Loading product details..."})):e(S)||!e(s)?(a(),k(D,{key:1,icon:"⚠️",title:"Product Not Found",description:"The product you are looking for does not exist or could not be loaded.",retryable:!0,onRetry:R})):(a(),r("div",Z,[t("div",tt,[t("nav",st,[b(g,{to:"/"},{default:y(()=>[...o[0]||(o[0]=[w("Home",-1)])]),_:1}),o[2]||(o[2]=t("span",{class:"separator"},"/",-1)),b(g,{to:"/catalog"},{default:y(()=>[...o[1]||(o[1]=[w("Catalog",-1)])]),_:1}),o[3]||(o[3]=t("span",{class:"separator"},"/",-1)),t("span",et,i(e(s).name),1)]),t("div",ot,[t("div",at,[t("div",nt,[t("img",{src:e(p),alt:e(s).name},null,8,rt)]),t("div",it,[(a(!0),r(u,null,f([e(s).image_url,...e(s).additional_images||[]],(n,d)=>(a(),r("button",{key:d,class:A(["thumb-btn",{active:e(p)===n}]),onClick:Bt=>n&&F(n)},[t("img",{src:n,alt:`${e(s).name} view ${d+1}`},null,8,ct)],10,lt))),128))])]),t("div",dt,[t("div",ut,[e(s).brand?(a(),r("span",_t,i(e(s).brand.name),1)):h("",!0),t("h1",null,i(e(s).name),1),t("div",pt,[t("div",mt,[(a(!0),r(u,null,f(e(N).full,n=>(a(),r("span",{key:`full-${n}`},"⭐"))),128)),e(N).half?(a(),r("span",gt,"⭐️")):h("",!0)]),t("span",vt,"("+i(e(s).review_count||0)+" reviews)",1)])]),t("div",ht,[t("span",yt,"$"+i(e(s).price.toLocaleString()),1),t("span",{class:A(["stock-status",{"in-stock":e(s).stock>0,"out-stock":e(s).stock===0}])},i(e(s).stock>0?"In Stock":"Out of Stock"),3)]),t("p",ft,i(e(s).description),1),t("div",kt,[t("button",{class:"btn btn-lg btn-primary add-cart-btn",disabled:e(s).stock===0,onClick:I},i(e(s).stock>0?"Add to Cart":"Out of Stock"),9,bt),o[4]||(o[4]=t("button",{class:"btn btn-lg btn-outline wishlist-btn"}," ❤️ ",-1))]),e(s).specs?(a(),r("div",wt,[o[5]||(o[5]=t("h3",null,"Specifications",-1)),t("dl",Ct,[(a(!0),r(u,null,f(e(s).specs,(n,d)=>(a(),r(u,{key:d},[t("dt",null,i(d.replace(/_/g," ")),1),t("dd",null,i(n),1)],64))),128))])])):h("",!0)])]),e(L).length>0?(a(),r("section",xt,[o[6]||(o[6]=t("h2",null,"You Might Also Like",-1)),t("div",Pt,[(a(!0),r(u,null,f(e(L),n=>(a(),k(g,{key:n.id,to:`/product/${n.id}`,class:"related-card"},{default:y(()=>[t("div",St,[t("img",{src:n.image_url,alt:n.name},null,8,$t)]),t("div",Lt,[t("h4",null,i(n.name),1),t("span",Nt,"$"+i(n.price.toLocaleString()),1)])]),_:2},1032,["to"]))),128))])])):h("",!0),t("section",Tt,[t("div",At,[o[8]||(o[8]=t("h2",null,"Experience it in Person",-1)),o[9]||(o[9]=t("p",null,"Visit one of our premium showrooms to test this product before you buy.",-1)),b(g,{to:"/stores",class:"btn btn-primary"},{default:y(()=>[...o[7]||(o[7]=[w("Find a Store",-1)])]),_:1})])])])]))])}}}),Mt=Q(Et,[["__scopeId","data-v-c9131de6"]]);export{Mt as default};
