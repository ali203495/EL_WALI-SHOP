import{d as h,y as S,z as C,x as w,o as f,g as x,c as p,e as t,t as n,k as l,F as y,C as D,a as m,D as k,i as L}from"./k2DC4fSl.js";const E={dir:"rtl"},O={class:"stats-row"},V={class:"stat-card"},j={class:"stat-value"},B={class:"stat-card"},R={class:"stat-value"},$={class:"stat-card"},F={class:"stat-value"},I={class:"table-container"},z={class:"data-table"},A={class:"order-id"},G={class:"order-total"},P=h({__name:"orders",async setup(U){let r,_;const d=S(),{data:e}=([r,_]=C(()=>d.getOrders()),r=await r,_(),r),v=i=>new Date(i).toLocaleString("ar-EG",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=w(()=>(e.value||[]).reduce((i,s)=>i+s.total_amount,0)||0);f(()=>{x.from(".order-row",{x:-20,opacity:0,stagger:.05,duration:.4})});const b=()=>{if(!e.value||e.value.length===0)return;const i=["Order ID","Date","Customer","Email","Total","Status","Payment"],s=e.value.map(o=>[o.id,new Date(o.created_at).toLocaleDateString(),`"${o.customer_name||"Guest"}"`,o.customer_email||"-",o.total_amount,o.status,o.payment_status||"-"].join(",")),a=[i.join(","),...s].join(`
`),u=new Blob([a],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(u),c.download=`orders_${new Date().toISOString().slice(0,10)}.csv`,c.click()};return(i,s)=>(m(),p("div",E,[t("header",{class:"page-header"},[s[2]||(s[2]=t("div",null,[t("h1",null,"Ø§Ù„Ø·Ù„Ø¨Ø§Øª"),t("p",{class:"subtitle"},"Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:b,class:"btn btn-outline",title:"Export to CSV"},"ğŸ“¥ Export CSV")])]),t("div",O,[t("div",V,[s[4]||(s[4]=t("span",{class:"stat-icon"},"ğŸ“¦",-1)),t("div",null,[t("span",j,n((l(e)||[]).length),1),s[3]||(s[3]=t("span",{class:"stat-label"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª",-1))])]),t("div",B,[s[6]||(s[6]=t("span",{class:"stat-icon"},"ğŸ’°",-1)),t("div",null,[t("span",R,n(l(g).toLocaleString())+" Ø¯.Ø¥",1),s[5]||(s[5]=t("span",{class:"stat-label"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª",-1))])]),t("div",$,[s[8]||(s[8]=t("span",{class:"stat-icon"},"ğŸ“ˆ",-1)),t("div",null,[t("span",F,n((l(e)?.length?l(g)/l(e).length:0).toFixed(2))+" Ø¯.Ø¥",1),s[7]||(s[7]=t("span",{class:"stat-label"},"Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨",-1))])])]),t("div",I,[t("table",z,[s[9]||(s[9]=t("thead",null,[t("tr",null,[t("th",null,"Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨"),t("th",null,"Ø§Ù„ØªØ§Ø±ÙŠØ®"),t("th",null,"Ø§Ù„Ø¹Ù†Ø§ØµØ±"),t("th",null,"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ"),t("th",null,"Ø§Ù„Ø­Ø§Ù„Ø©"),t("th",null,"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),t("tbody",null,[(m(!0),p(y,null,D(l(e),a=>(m(),p("tr",{key:a.id,class:"order-row"},[t("td",A,"#"+n(a.id.toString().padStart(4,"0")),1),t("td",null,n(v(a.created_at)),1),t("td",null,n(a.items?.length||0)+" Ø¹Ù†Ø§ØµØ±",1),t("td",G,n(a.total_amount.toLocaleString())+" Ø¯.Ø¥",1),t("td",null,[t("span",{class:k(["status-badge",a.status.toLowerCase()])},n(a.status==="completed"?"Ù…ÙƒØªÙ…Ù„":a.status==="pending"?"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±":a.status),3)]),t("td",null,[t("button",{class:"action-btn",title:"View Details",onClick:s[0]||(s[0]=u=>l(d).getOrders())},"ğŸ‘ï¸"),t("button",{class:"action-btn",title:"Print Receipt",onClick:s[1]||(s[1]=u=>l(d).getOrders())},"ğŸ–¨ï¸")])]))),128))])])])]))}}),N=L(P,[["__scopeId","data-v-33b481d5"]]);export{N as default};
