import{_ as U,a as G}from"./Dn4G89Pg.js";import{d as V,E as C,a as i,w as j,c as a,m as v,e as t,A as E,k as o,D as P,t as c,_ as J,i as B,G as K,y as X,z as Y,r as $,x as Z,o as tt,g as et,u as st,F as x,C as A,n as q,v as ot,B as I,H as nt}from"./k2DC4fSl.js";import{u as H}from"./BU3BfZW3.js";import{u as it}from"./BG4MH3bC.js";import"./BTg8e7mj.js";const at={key:0,class:"card-badge"},ct={class:"card-image"},lt=["src","alt"],rt={class:"card-actions"},dt={class:"card-body"},ut={key:0,class:"card-brand"},pt={class:"card-title"},mt={key:1,class:"card-rating"},vt={class:"rating-text"},_t={class:"card-footer"},gt={class:"card-price"},ft=V({__name:"ProductCard",props:{product:{},showBadge:{type:Boolean}},emits:["quickView"],setup(s){const{isInWishlist:u,toggleWishlist:f}=H();return(h,l)=>{const k=J;return i(),C(k,{to:`/product/${s.product.id}`,class:"product-card"},{default:j(()=>[s.showBadge&&s.product.rating&&s.product.rating>=4.8?(i(),a("div",at," â­ Top Rated ")):v("",!0),t("div",ct,[t("img",{src:s.product.image_url,alt:s.product.name,loading:"lazy"},null,8,lt),t("div",rt,[t("button",{class:P(["action-btn",{active:o(u)(s.product.id)}]),onClick:l[0]||(l[0]=E(y=>o(f)(s.product.id),["prevent"])),title:"Add to Wishlist"}," â™¥ ",2),t("button",{class:"action-btn",onClick:l[1]||(l[1]=E(y=>h.$emit("quickView",s.product),["prevent"])),title:"Quick View"}," ðŸ‘ ")])]),t("div",dt,[s.product.brand?(i(),a("span",ut,c(s.product.brand.name),1)):v("",!0),t("h3",pt,c(s.product.name),1),s.product.rating?(i(),a("div",mt,[l[2]||(l[2]=t("span",{class:"stars"},"â˜…â˜…â˜…â˜…â˜…",-1)),t("span",vt,c(s.product.rating)+" ("+c(s.product.review_count?.toLocaleString())+")",1)])):v("",!0),t("div",_t,[t("span",gt,"$"+c(s.product.price.toLocaleString()),1),l[3]||(l[3]=t("span",{class:"card-link"},"View â†’",-1))])])]),_:1},8,["to"])}}}),ht=Object.assign(B(ft,[["__scopeId","data-v-c573d5c7"]]),{__name:"ProductCard"}),kt={class:"empty-state"},yt={class:"empty-icon"},$t={key:0},Ct={class:"empty-actions"},bt=V({__name:"EmptyState",props:{icon:{},title:{},description:{}},setup(s){return(u,f)=>(i(),a("div",kt,[t("span",yt,c(s.icon||"ðŸ“­"),1),t("h3",null,c(s.title),1),s.description?(i(),a("p",$t,c(s.description),1)):v("",!0),t("div",Ct,[K(u.$slots,"actions",{},void 0)])]))}}),wt=Object.assign(B(bt,[["__scopeId","data-v-d2790c8a"]]),{__name:"EmptyState"}),xt={class:"quick-view-modal"},Pt={class:"modal-content"},Vt={class:"product-image"},Bt=["src","alt"],Lt={class:"product-details"},St={class:"text-2xl font-bold mb-2"},Qt={class:"text-primary text-xl font-bold mb-4"},Wt={class:"text-gray-600 mb-6"},At={class:"actions"},Et=V({__name:"ProductQuickView",props:{product:{},isOpen:{type:Boolean}},emits:["close"],setup(s,{emit:u}){const f=s,h=u,{addToCart:l}=it(),{isInWishlist:k,toggleWishlist:y}=H(),L=()=>{l(f.product),h("close")};return(b,_)=>s.isOpen?(i(),a("div",{key:0,class:"quick-view-overlay",onClick:_[2]||(_[2]=E(g=>b.$emit("close"),["self"]))},[t("div",xt,[t("button",{class:"close-btn",onClick:_[0]||(_[0]=g=>b.$emit("close"))},"Ã—"),t("div",Pt,[t("div",Vt,[t("img",{src:s.product.image_url,alt:s.product.name},null,8,Bt)]),t("div",Lt,[t("h2",St,c(s.product.name),1),t("p",Qt,"$"+c(s.product.price),1),t("p",Wt,c(s.product.description||"No description available."),1),t("div",At,[t("button",{class:"btn btn-primary flex-1",onClick:L}," Add to Cart "),t("button",{class:P(["btn btn-outline w-12 flex justify-center items-center",{"text-red-500 border-red-500":o(k)(s.product.id)}]),onClick:_[1]||(_[1]=g=>o(y)(s.product.id))}," â™¥ ",2)])])])])])):v("",!0)}}),Ft=Object.assign(B(Et,[["__scopeId","data-v-a0e57f56"]]),{__name:"ProductQuickView"}),qt={class:"catalog-page"},It={class:"filter-sidebar"},jt={class:"filter-section"},Ht={class:"filter-list"},Nt=["onClick"],Ot={class:"filter-section"},Rt={class:"filter-list"},Tt=["onClick"],Mt={class:"catalog-content"},zt={class:"catalog-header"},Dt={class:"header-left"},Ut={class:"product-count"},Gt={class:"header-controls"},Jt={key:0,class:"active-filters"},Kt={class:"product-grid"},Xt=V({__name:"catalog",async setup(s){let u,f;const h=X(),[{data:l,pending:k,error:y,refresh:L},{data:b},{data:_}]=([u,f]=Y(()=>Promise.all([h.getProducts(),h.getCategories(),h.getBrands()])),u=await u,f(),u),g=$(""),p=$(null),m=$(null),w=$("featured"),S=Z(()=>{if(!l.value)return[];let r=[...l.value];if(g.value){const e=g.value.toLowerCase();r=r.filter(d=>d.name.toLowerCase().includes(e)||d.description?.toLowerCase().includes(e)||d.brand?.name?.toLowerCase().includes(e))}switch(p.value&&(r=r.filter(e=>e.category_id===p.value)),m.value&&(r=r.filter(e=>e.brand_id===m.value)),w.value){case"price-low":r.sort((e,d)=>e.price-d.price);break;case"price-high":r.sort((e,d)=>d.price-e.price);break;case"rating":r.sort((e,d)=>(d.rating||0)-(e.rating||0));break}return r}),F=()=>{g.value="",p.value=null,m.value=null,w.value="featured"},N=()=>{L()};tt(()=>{!k.value&&!y.value&&et.from(".product-card",{y:30,opacity:0,stagger:.05,duration:.5,ease:"power2.out"})}),st({title:"Product Catalog"});const Q=$(!1),W=$(null),O=r=>{W.value=r,Q.value=!0};return(r,e)=>{const d=U,R=G,T=ht,M=wt,z=Ft;return i(),a("div",qt,[o(k)?(i(),C(d,{key:0,message:"Loading products..."})):o(y)?(i(),C(R,{key:1,icon:"âŒ",title:"Failed to load products",description:"We couldn't load the product catalog. Please check your connection and try again.",retryable:!0,onRetry:N})):(i(),a(x,{key:2},[t("aside",It,[t("div",{class:"filter-header"},[e[5]||(e[5]=t("h3",null,"Filters",-1)),t("button",{onClick:F,class:"clear-btn"},"Clear All")]),t("div",jt,[e[6]||(e[6]=t("h4",null,"Categories",-1)),t("ul",Ht,[(i(!0),a(x,null,A(o(b),n=>(i(),a("li",{key:n.id,class:P({active:o(p)===n.id}),onClick:D=>p.value=o(p)===n.id?null:n.id},c(n.name),11,Nt))),128))])]),t("div",Ot,[e[7]||(e[7]=t("h4",null,"Brands",-1)),t("ul",Rt,[(i(!0),a(x,null,A(o(_),n=>(i(),a("li",{key:n.id,class:P({active:o(m)===n.id}),onClick:D=>m.value=o(m)===n.id?null:n.id},c(n.name),11,Tt))),128))])])]),t("main",Mt,[t("header",zt,[t("div",Dt,[e[8]||(e[8]=t("h1",null,"Catalog",-1)),t("span",Ut,c(o(S).length)+" products",1)]),t("div",Gt,[q(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>I(g)?g.value=n:null),type:"text",placeholder:"Search products...",class:"input-field search-input"},null,512),[[ot,o(g)]]),q(t("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>I(w)?w.value=n:null),class:"input-field sort-select"},[...e[9]||(e[9]=[t("option",{value:"featured"},"Featured",-1),t("option",{value:"price-low"},"Price: Low to High",-1),t("option",{value:"price-high"},"Price: High to Low",-1),t("option",{value:"rating"},"Highest Rated",-1)])],512),[[nt,o(w)]])])]),o(p)||o(m)?(i(),a("div",Jt,[o(p)?(i(),a("span",{key:0,class:"filter-tag",onClick:e[2]||(e[2]=n=>p.value=null)},c(o(b)?.find(n=>n.id===o(p))?.name)+" Ã— ",1)):v("",!0),o(m)?(i(),a("span",{key:1,class:"filter-tag",onClick:e[3]||(e[3]=n=>m.value=null)},c(o(_)?.find(n=>n.id===o(m))?.name)+" Ã— ",1)):v("",!0)])):v("",!0),t("div",Kt,[(i(!0),a(x,null,A(o(S),n=>(i(),C(T,{key:n.id,product:n,"show-badge":!!n.rating,onQuickView:O},null,8,["product","show-badge"]))),128))]),o(S).length===0?(i(),C(M,{key:1,icon:"ðŸ”",title:"No products found",description:"Try adjusting your search or filters"},{actions:j(()=>[t("button",{onClick:F,class:"btn btn-outline"},"Clear Filters")]),_:1})):v("",!0)])],64)),o(W)?(i(),C(z,{key:3,"is-open":o(Q),product:o(W),onClose:e[4]||(e[4]=n=>Q.value=!1)},null,8,["is-open","product"])):v("",!0)])}}}),oe=B(Xt,[["__scopeId","data-v-fbdf682d"]]);export{oe as default};
