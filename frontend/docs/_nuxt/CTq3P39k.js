import{d as h,y as k,l as w,V as B,r as i,o as C,c as n,e as t,m as x,F,C as V,A as p,n as b,v as f,t as _,a as o,i as A}from"./k2DC4fSl.js";const M={dir:"rtl"},S={class:"header"},$={class:"table-container"},D={class:"data-table"},L=["src"],N={key:1},T=["onClick"],U={class:"modal"},q={class:"form-group"},E={class:"form-group"},I={class:"form-actions"},j=["disabled"],z=h({__name:"brands",setup(G){const c=k();w();const r=B(),m=i([]),d=i(!1),u=i(!1),a=i({name:"",logo_url:""}),v=async()=>{try{const{data:l}=await c.getBrands();m.value=l.value||[]}catch{r.error("Failed to fetch brands")}},y=async()=>{try{u.value=!0,await c.createBrand(a.value),r.success("Brand added successfully"),d.value=!1,a.value={name:"",logo_url:""},await v()}catch(l){r.error(l.response?._data?.detail||"Failed to create brand")}finally{u.value=!1}},g=async l=>{if(confirm("Are you sure you want to delete this brand?"))try{await c.deleteBrand(l),r.success("Brand deleted"),await v()}catch(e){r.error(e.response?._data?.detail||"Failed to delete brand")}};return C(()=>{v()}),(l,e)=>(o(),n("div",M,[t("div",S,[e[5]||(e[5]=t("h1",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª",-1)),t("button",{onClick:e[0]||(e[0]=s=>d.value=!0),class:"btn btn-primary"},"+ Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø±ÙƒØ©")]),t("div",$,[t("table",D,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"Ø§Ù„Ø§Ø³Ù…"),t("th",null,"Ø§Ù„Ø´Ø¹Ø§Ø±"),t("th",null,"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),t("tbody",null,[(o(!0),n(F,null,V(m.value,s=>(o(),n("tr",{key:s.id},[t("td",null,_(s.name),1),t("td",null,[s.logo_url?(o(),n("img",{key:0,src:s.logo_url,class:"logo-preview"},null,8,L)):(o(),n("span",N,"-"))]),t("td",null,[t("button",{onClick:H=>g(s.id),class:"btn-icon text-danger",title:"Ø­Ø°Ù"}," ğŸ—‘ï¸ ",8,T)])]))),128))])])]),d.value?(o(),n("div",{key:0,class:"modal-overlay",onClick:e[4]||(e[4]=p(s=>d.value=!1,["self"]))},[t("div",U,[e[9]||(e[9]=t("h2",null,"Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø±ÙƒØ© Ø¬Ø¯ÙŠØ¯Ø©",-1)),t("form",{onSubmit:p(y,["prevent"]),class:"form-grid"},[t("div",q,[e[7]||(e[7]=t("label",null,"Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø±ÙƒØ©",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.name=s),required:"",class:"input"},null,512),[[f,a.value.name]])]),t("div",E,[e[8]||(e[8]=t("label",null,"Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.logo_url=s),class:"input"},null,512),[[f,a.value.logo_url]])]),t("div",I,[t("button",{type:"button",onClick:e[3]||(e[3]=s=>d.value=!1),class:"btn btn-outline"},"Ø¥Ù„ØºØ§Ø¡"),t("button",{type:"submit",class:"btn btn-primary",disabled:u.value},_(u.value?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...":"Ø¥Ø¶Ø§ÙØ©"),9,j)])],32)])])):x("",!0)]))}}),K=A(z,[["__scopeId","data-v-76c32e38"]]);export{K as default};
