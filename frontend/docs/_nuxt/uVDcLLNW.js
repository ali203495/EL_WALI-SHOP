import{d as k,s as x,r as C,u as S,x as f,y as L,z as q,o as N,g as B,c as o,e,m as _,A as V,n as T,v as A,k as r,B as M,h as p,t as l,F as P,C as R,f as g,w as y,_ as $,a as n,q as D,i as E}from"./k2DC4fSl.js";const F={class:"search-page"},z={class:"container"},H={class:"search-header"},I={key:0,class:"results-info"},Q={key:1,class:"results-grid"},U={class:"result-image"},W=["src","alt"],j={class:"result-body"},G={key:0,class:"result-brand"},J={class:"result-description"},K={class:"result-footer"},O={class:"result-price"},X={key:0,class:"result-rating"},Y={key:2,class:"empty-results"},Z={key:0},ss={key:1},es=k({__name:"search",async setup(ts){let u,m;const v=x(),a=C(v.query.q||"");S({title:f(()=>a.value?`Search: ${a.value}`:"Search Products"),meta:[{name:"robots",content:"noindex, follow"}]});const b=L(),{data:d}=([u,m]=q(()=>b.getProducts()),u=await u,m(),u),c=f(()=>{if(!d.value)return[];if(!a.value)return d.value;const i=a.value.toLowerCase();return d.value.filter(s=>s.name.toLowerCase().includes(i)||s.description?.toLowerCase().includes(i)||s.brand?.name.toLowerCase().includes(i)||s.category?.name.toLowerCase().includes(i))}),w=()=>{D({path:"/search",query:{q:a.value}})};return N(()=>{B.from(".result-card",{y:30,opacity:0,stagger:.05,duration:.5})}),(i,s)=>{const h=$;return n(),o("div",F,[e("div",z,[e("div",H,[s[2]||(s[2]=e("h1",null,"Search Results",-1)),e("form",{onSubmit:V(w,["prevent"]),class:"search-form"},[T(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>M(a)?a.value=t:null),type:"text",placeholder:"Search products, brands, categories...",class:"input-field search-input"},null,512),[[A,r(a)]]),s[1]||(s[1]=e("button",{type:"submit",class:"btn btn-primary"},"Search",-1))],32)]),r(a)?(n(),o("div",I,[e("p",null,[e("strong",null,l(r(c).length),1),s[3]||(s[3]=p(' results for "',-1)),e("strong",null,l(r(a)),1),s[4]||(s[4]=p('" ',-1))])])):_("",!0),r(c).length?(n(),o("div",Q,[(n(!0),o(P,null,R(r(c),t=>(n(),o("div",{key:t.id,class:"result-card"},[g(h,{to:`/product/${t.id}`,class:"result-link"},{default:y(()=>[e("div",U,[e("img",{src:t.image_url,alt:t.name},null,8,W)]),e("div",j,[t.brand?(n(),o("span",G,l(t.brand.name),1)):_("",!0),e("h3",null,l(t.name),1),e("p",J,l(t.description?.slice(0,100))+"...",1),e("div",K,[e("span",O,"$"+l(t.price.toLocaleString()),1),t.rating?(n(),o("span",X,"â­ "+l(t.rating),1)):_("",!0)])])]),_:2},1032,["to"])]))),128))])):(n(),o("div",Y,[s[6]||(s[6]=e("span",{class:"empty-icon"},"ðŸ”",-1)),s[7]||(s[7]=e("h2",null,"No products found",-1)),r(a)?(n(),o("p",Z,"Try different keywords or browse our catalog")):(n(),o("p",ss,"Enter a search term to find products")),g(h,{to:"/catalog",class:"btn btn-outline"},{default:y(()=>[...s[5]||(s[5]=[p("Browse Catalog",-1)])]),_:1})]))])])}}}),os=E(es,[["__scopeId","data-v-70024534"]]);export{os as default};
