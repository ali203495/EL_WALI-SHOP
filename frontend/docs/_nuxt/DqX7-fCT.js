import{d as h,y as _,l as k,V as w,r as i,o as C,c as r,e as t,m as V,F as x,C as F,A as y,n as v,v as p,t as d,a as c,i as A}from"./k2DC4fSl.js";const M={dir:"rtl"},U={class:"header"},$={class:"table-container"},q={class:"data-table"},B=["onClick"],D={class:"modal"},L={class:"form-group"},N={class:"form-group"},T={class:"form-group"},E={class:"form-group"},I={class:"form-actions"},j=["disabled"],z=h({__name:"stores",setup(G){const m=_();k();const n=w(),b=i([]),o=i(!1),u=i(!1),l=i({name:"",address:"",city:"",phone:"",latitude:0,longitude:0}),f=async()=>{try{const{data:a}=await m.getStores();b.value=a.value||[]}catch{n.error("Failed to fetch stores")}},g=async()=>{try{u.value=!0,await m.createStore(l.value),n.success("Store added successfully"),o.value=!1,l.value={name:"",address:"",city:"",phone:"",latitude:0,longitude:0},await f()}catch(a){n.error(a.response?._data?.detail||"Failed to create store")}finally{u.value=!1}},S=async a=>{if(confirm("Are you sure you want to delete this store?"))try{await m.deleteStore(a),n.success("Store deleted"),await f()}catch(e){n.error(e.response?._data?.detail||"Failed to delete store")}};return C(()=>{f()}),(a,e)=>(c(),r("div",M,[t("div",U,[e[7]||(e[7]=t("h1",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø±",-1)),t("button",{onClick:e[0]||(e[0]=s=>o.value=!0),class:"btn btn-primary"},"+ Ø¥Ø¶Ø§ÙØ© Ù…ØªØ¬Ø±")]),t("div",$,[t("table",q,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",null,"Ø§Ù„Ø§Ø³Ù…"),t("th",null,"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"),t("th",null,"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"),t("th",null,"Ø§Ù„Ù‡Ø§ØªÙ"),t("th",null,"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),t("tbody",null,[(c(!0),r(x,null,F(b.value,s=>(c(),r("tr",{key:s.id},[t("td",null,d(s.name),1),t("td",null,d(s.address),1),t("td",null,d(s.city),1),t("td",null,d(s.phone),1),t("td",null,[t("button",{onClick:H=>S(s.id),class:"btn-icon text-danger",title:"Ø­Ø°Ù"}," ğŸ—‘ï¸ ",8,B)])]))),128))])])]),o.value?(c(),r("div",{key:0,class:"modal-overlay",onClick:e[6]||(e[6]=y(s=>o.value=!1,["self"]))},[t("div",D,[e[13]||(e[13]=t("h2",null,"Ø¥Ø¶Ø§ÙØ© Ù…ØªØ¬Ø± Ø¬Ø¯ÙŠØ¯",-1)),t("form",{onSubmit:y(g,["prevent"]),class:"form-grid"},[t("div",L,[e[9]||(e[9]=t("label",null,"Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±",-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.name=s),required:"",class:"input"},null,512),[[p,l.value.name]])]),t("div",N,[e[10]||(e[10]=t("label",null,"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",-1)),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.address=s),required:"",class:"input"},null,512),[[p,l.value.address]])]),t("div",T,[e[11]||(e[11]=t("label",null,"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",-1)),v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.city=s),required:"",class:"input"},null,512),[[p,l.value.city]])]),t("div",E,[e[12]||(e[12]=t("label",null,"Ø§Ù„Ù‡Ø§ØªÙ",-1)),v(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.phone=s),class:"input"},null,512),[[p,l.value.phone]])]),t("div",I,[t("button",{type:"button",onClick:e[5]||(e[5]=s=>o.value=!1),class:"btn btn-outline"},"Ø¥Ù„ØºØ§Ø¡"),t("button",{type:"submit",class:"btn btn-primary",disabled:u.value},d(u.value?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...":"Ø¥Ø¶Ø§ÙØ©"),9,j)])],32)])])):V("",!0)]))}}),K=A(z,[["__scopeId","data-v-d9d7cc34"]]);export{K as default};
