import{m as f,N as d,O as c,u as h}from"./CKlka8Zi.js";const W=()=>{const n=f(),{$toast:l}=d(),a=c("wishlist_items",()=>[]),e=c("wishlist_loading",()=>!1),v=async()=>{e.value=!0;try{const{data:s}=await n.getWishlist();a.value=s.value||[]}catch{}finally{e.value=!1}},u=async s=>{const{translateLanguage:t}=h();if(!o(s)){e.value=!0;try{const i=await n.addToWishlistApi(s);a.value.push(i),l.success(t("wishlist.added_success"))}catch(i){l.error(i.response?._data?.detail||t("wishlist.add_failed"))}finally{e.value=!1}}},r=async s=>{const{translateLanguage:t}=h();e.value=!0;try{await n.removeFromWishlistApi(s),a.value=a.value.filter(i=>i.product.id!==s),l.info(t("wishlist.removed_success"))}catch{l.error(t("wishlist.remove_failed"))}finally{e.value=!1}},o=s=>a.value.some(t=>t.product.id===s);return{items:a,isLoading:e,fetchWishlist:v,addToWishlist:u,removeFromWishlist:r,isInWishlist:o,toggleWishlist:s=>{o(s)?r(s):u(s)}}};export{W as u};
