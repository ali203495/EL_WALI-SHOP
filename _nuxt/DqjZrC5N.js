import{_ as k}from"./B-8L2Q9z.js";import{_ as L}from"./CgFVh808.js";import{d as S,u as w,m as B,r as i,o as C,c,b as n,e,C as h,t as a,h as t,w as f,F as D,G as N,i as E,f as F,_ as R,q as V,j as A}from"./CKlka8Zi.js";import"./Y6lJhnZ0.js";const T={class:"orders-page"},j={class:"section-header"},q={class:"error-details"},z={key:2,class:"orders-table-container"},G={class:"data-table"},I={class:"font-mono"},M={class:"font-bold"},O={key:3,class:"empty-state"},P=S({__name:"orders",setup(U){const{translateLanguage:o,locale:m}=w(),g=B(),u=i([]),_=i(!0),s=i(null),p=async()=>{_.value=!0,s.value=null;try{const{data:l,error:d}=await g.getOrders();if(d.value){s.value=d.value;return}u.value=l.value||[]}catch(l){s.value=l}finally{_.value=!1}},y=()=>{p()};return C(()=>{p()}),(l,d)=>{const v=k,b=L,x=R;return n(),c("div",T,[e("header",j,[e("h1",null,a(t(o)("account.order_history")),1)]),t(_)?(n(),h(v,{key:0,message:t(o)("account.loading")},null,8,["message"])):t(s)?(n(),h(b,{key:1,title:t(o)("admin.failed_load"),description:t(o)("common.error_desc"),retryable:!0,onRetry:y},{footer:f(()=>[e("div",q,a(t(s).message||t(s).statusText||t(s)),1)]),_:1},8,["title","description"])):t(u).length>0?(n(),c("div",z,[e("table",G,[e("thead",null,[e("tr",null,[e("th",null,a(t(o)("account.order_id")),1),e("th",null,a(t(o)("account.date")),1),e("th",null,a(t(o)("account.status")),1),e("th",null,a(t(o)("account.total")),1)])]),e("tbody",null,[(n(!0),c(D,null,N(t(u),r=>(n(),c("tr",{key:r.id},[e("td",I,"#"+a(r.id),1),e("td",null,a(new Date(r.created_at||"").toLocaleDateString(t(m)==="ar"?"ar-SA":t(m)==="fr"?"fr-FR":"en-US")),1),e("td",null,[e("span",{class:V(["status-badge",r.status])},a(r.status),3)]),e("td",M,a(r.total_amount?.toLocaleString())+" "+a(t(o)("common.currency")),1)]))),128))])])])):(n(),c("div",O,[e("p",null,a(t(o)("account.no_previous_orders")),1),E(x,{to:"/catalog",class:"btn btn-primary mt-4"},{default:f(()=>[F(a(t(o)("account.shop_now")),1)]),_:1})]))])}}}),Q=A(P,[["__scopeId","data-v-b939dde9"]]);export{Q as default};
