import{_ as B}from"./B-8L2Q9z.js";import{_ as C}from"./CgFVh808.js";import{d as D,u as N,l as E,m as F,r as u,o as O,A as R,c as r,b as o,e as t,C as g,t as e,h as s,w as m,F as y,i as x,f as b,_ as V,G as T,q as j,j as q}from"./CKlka8Zi.js";import"./Y6lJhnZ0.js";const z={class:"account-dashboard"},G={class:"section-header"},I={class:"error-details"},M={class:"stats-grid"},P={class:"stat-card"},U={class:"info"},$={class:"value"},H={class:"label"},J={class:"recent-orders mt-8"},K={class:"section-title"},Q={key:0,class:"orders-list"},W={class:"order-header"},X={class:"order-id"},Y={class:"order-date"},Z={class:"order-info"},ss={class:"status"},ts={class:"total"},es={key:1,class:"empty-state"},as=D({__name:"index",setup(os){const{translateLanguage:a,locale:p}=N(),k=E(),w=F(),d=u([]),_=u(!0),n=u(null),h=async()=>{_.value=!0,n.value=null;try{const{data:i,error:l}=await w.getOrders();if(l.value){n.value=l.value;return}d.value=i.value||[]}catch(i){n.value=i}finally{_.value=!1}},L=()=>{h()};O(()=>{h()});const v=R(()=>d.value?.slice(0,3)||[]);return(i,l)=>{const S=B,A=C,f=V;return o(),r("div",z,[t("header",G,[t("h1",null,e(s(a)("account.welcome"))+", "+e(s(k).user?.first_name),1),t("p",null,e(s(a)("account.dashboard_desc")),1)]),s(_)?(o(),g(S,{key:0,message:s(a)("account.loading")},null,8,["message"])):s(n)?(o(),g(A,{key:1,title:s(a)("admin.failed_load"),description:s(a)("common.error_desc"),retryable:!0,onRetry:L},{footer:m(()=>[t("div",I,e(s(n).message||s(n).statusText||s(n)),1)]),_:1},8,["title","description"])):(o(),r(y,{key:2},[t("div",M,[t("div",P,[l[0]||(l[0]=t("span",{class:"icon"},"âœ§",-1)),t("div",U,[t("span",$,e(s(d).length),1),t("span",H,e(s(a)("account.total_orders")),1)])])]),t("section",J,[t("div",K,[t("h2",null,e(s(a)("account.recent_orders")),1),x(f,{to:"/account/orders",class:"view-all"},{default:m(()=>[b(e(s(a)("account.view_all")),1)]),_:1})]),s(v).length>0?(o(),r("div",Q,[(o(!0),r(y,null,T(s(v),c=>(o(),r("div",{key:c.id,class:"order-card"},[t("div",W,[t("span",X,"#"+e(c.id),1),t("span",Y,e(new Date(c.created_at||"").toLocaleDateString(s(p)==="ar"?"ar-SA":s(p)==="fr"?"fr-FR":"en-US")),1)]),t("div",Z,[t("div",ss,[t("span",{class:j(["status-badge",c.status])},e(c.status),3)]),t("div",ts,e(c.total_amount?.toLocaleString())+" "+e(s(a)("common.currency")),1)])]))),128))])):(o(),r("div",es,[t("p",null,e(s(a)("account.no_orders")),1),x(f,{to:"/catalog",class:"btn btn-primary btn-sm"},{default:m(()=>[b(e(s(a)("wishlist.browse")),1)]),_:1})]))])],64))])}}}),is=q(as,[["__scopeId","data-v-3682f288"]]);export{is as default};
