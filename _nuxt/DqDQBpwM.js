import{_ as k}from"./B-8L2Q9z.js";import{_ as S}from"./CgFVh808.js";import{d as E,u as C,m as B,r as c,J as T,$ as j,o as A,g as D,c as b,b as _,e as t,C as x,t as n,h as e,w as M,s as i,v as r,I as L,X as w,j as F}from"./CKlka8Zi.js";import"./Y6lJhnZ0.js";const I={class:"page-header"},N={class:"subtitle"},R=["disabled"],W={class:"error-details"},z={key:2,class:"settings-grid"},J={class:"settings-card"},O={class:"form-group"},P={class:"form-group"},X={class:"form-group"},$={class:"form-group"},q={class:"form-group"},G={class:"settings-card"},H={class:"form-group"},K={class:"form-group"},Q={class:"form-group"},Y={class:"settings-card"},Z={class:"form-group"},ee={class:"color-picker-wrapper"},te={class:"form-group"},ae={class:"color-picker-wrapper"},se={class:"form-group"},le={class:"color-picker-wrapper"},oe={class:"form-group"},ne={value:""},ie=E({__name:"settings",setup(re){const{translateLanguage:o}=C(),y=B(),f=c(null),p=c(!0),u=c(null),h=async()=>{p.value=!0,u.value=null;try{const{data:d,error:a}=await y.getSettings();if(a.value){u.value=a.value;return}f.value=d.value}catch(d){u.value=d}finally{p.value=!1}},V=()=>{h()},s=T({store_name:"",hero_title:"",hero_subtitle:"",hero_badge:"",contact_email:"",contact_phone:"",whatsapp_number:"",contact_address:"",theme_primary:"#10B981",theme_secondary:"#1F2937",theme_accent:"#F59E0B",theme_font_family:""});j(()=>{f.value&&f.value.forEach(d=>{s[d.key]=d.value})});const m=c(!1),U=async()=>{m.value=!0;try{const d=Object.entries(s).map(([g,v])=>({key:g,value:v}));await y.updateSettings(d);const{success:a}=w();a(o("admin.save_success"))}catch{const{error:a}=w();a(o("admin.save_failed"))}finally{m.value=!1}};return A(()=>{h(),D.from(".settings-card",{y:20,opacity:0,stagger:.1,duration:.5})}),(d,a)=>{const g=k,v=S;return _(),b("div",null,[t("header",I,[t("div",null,[t("h1",null,n(e(o)("admin.settings")),1),t("p",N,n(e(o)("nav.admin_portal"))+" / "+n(e(o)("nav.settings")),1)]),t("button",{class:"btn btn-primary",disabled:e(m)||e(p),onClick:U},n(e(m)?e(o)("admin.saving"):e(o)("admin.save_changes")),9,R)]),e(p)?(_(),x(g,{key:0,message:e(o)("admin.loading_data")},null,8,["message"])):e(u)?(_(),x(v,{key:1,title:e(o)("admin.failed_load"),description:e(o)("common.error_desc"),retryable:!0,onRetry:V},{footer:M(()=>[t("div",W,n(e(u).message||e(u).statusText||e(u)),1)]),_:1},8,["title","description"])):(_(),b("div",z,[t("div",J,[t("h3",null,n(e(o)("admin.store_info")),1),t("div",O,[t("label",null,n(e(o)("admin.name")),1),i(t("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).store_name=l),type:"text",class:"input-field"},null,512),[[r,e(s).store_name]])]),t("div",P,[t("label",null,n(e(o)("admin.email")),1),i(t("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).contact_email=l),type:"email",class:"input-field"},null,512),[[r,e(s).contact_email]])]),t("div",X,[t("label",null,n(e(o)("admin.phone")),1),i(t("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>e(s).contact_phone=l),type:"text",class:"input-field"},null,512),[[r,e(s).contact_phone]])]),t("div",$,[t("label",null,n(e(o)("admin.address")),1),i(t("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>e(s).contact_address=l),type:"text",class:"input-field"},null,512),[[r,e(s).contact_address]])]),t("div",q,[a[15]||(a[15]=t("label",null,"WhatsApp Number (e.g. 971501234567)",-1)),i(t("input",{"onUpdate:modelValue":a[4]||(a[4]=l=>e(s).whatsapp_number=l),type:"text",class:"input-field",placeholder:"Enter number with country code"},null,512),[[r,e(s).whatsapp_number]])])]),t("div",G,[t("h3",null,n(e(o)("admin.home_page_content")),1),t("div",H,[t("label",null,n(e(o)("admin.hero_title_label")),1),i(t("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>e(s).hero_title=l),type:"text",class:"input-field"},null,512),[[r,e(s).hero_title]])]),t("div",K,[t("label",null,n(e(o)("admin.hero_subtitle_label")),1),i(t("textarea",{"onUpdate:modelValue":a[6]||(a[6]=l=>e(s).hero_subtitle=l),rows:"3",class:"input-field"},null,512),[[r,e(s).hero_subtitle]])]),t("div",Q,[t("label",null,n(e(o)("admin.hero_badge_label")),1),i(t("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>e(s).hero_badge=l),type:"text",class:"input-field"},null,512),[[r,e(s).hero_badge]])])]),t("div",Y,[t("h3",null,n(e(o)("admin.theme_customization")),1),t("div",Z,[t("label",null,n(e(o)("admin.primary_color")),1),t("div",ee,[i(t("input",{"onUpdate:modelValue":a[8]||(a[8]=l=>e(s).theme_primary=l),type:"color",class:"color-picker"},null,512),[[r,e(s).theme_primary]]),i(t("input",{"onUpdate:modelValue":a[9]||(a[9]=l=>e(s).theme_primary=l),type:"text",class:"input-field"},null,512),[[r,e(s).theme_primary]])])]),t("div",te,[t("label",null,n(e(o)("admin.secondary_color")),1),t("div",ae,[i(t("input",{"onUpdate:modelValue":a[10]||(a[10]=l=>e(s).theme_secondary=l),type:"color",class:"color-picker"},null,512),[[r,e(s).theme_secondary]]),i(t("input",{"onUpdate:modelValue":a[11]||(a[11]=l=>e(s).theme_secondary=l),type:"text",class:"input-field"},null,512),[[r,e(s).theme_secondary]])])]),t("div",se,[t("label",null,n(e(o)("admin.accent_color")),1),t("div",le,[i(t("input",{"onUpdate:modelValue":a[12]||(a[12]=l=>e(s).theme_accent=l),type:"color",class:"color-picker"},null,512),[[r,e(s).theme_accent]]),i(t("input",{"onUpdate:modelValue":a[13]||(a[13]=l=>e(s).theme_accent=l),type:"text",class:"input-field"},null,512),[[r,e(s).theme_accent]])])]),t("div",oe,[t("label",null,n(e(o)("admin.main_font")),1),i(t("select",{"onUpdate:modelValue":a[14]||(a[14]=l=>e(s).theme_font_family=l),class:"input-field"},[t("option",ne,n(e(o)("admin.default")),1),a[16]||(a[16]=t("option",{value:"'Tajawal', sans-serif"},"Tajawal",-1)),a[17]||(a[17]=t("option",{value:"'Cairo', sans-serif"},"Cairo",-1)),a[18]||(a[18]=t("option",{value:"'Almarai', sans-serif"},"Almarai",-1))],512),[[L,e(s).theme_font_family]])])])]))])}}}),ce=F(ie,[["__scopeId","data-v-c8a86389"]]);export{ce as default};
