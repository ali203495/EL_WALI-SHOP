import{d as f,l as _,y as c,V as v,I as b,r as g,c as y,a as x,e as s,n as r,v as d,k as a,t as w,A as U,i as V}from"./Bd9HA-jC.js";const h={class:"settings-page"},k={class:"form-row"},q={class:"form-group"},A={class:"form-group"},B={class:"form-group"},S={class:"form-actions"},D=["disabled"],I=f({__name:"settings",setup(M){const l=_(),m=c(),u=v(),t=b({first_name:l.user?.first_name||"",last_name:l.user?.last_name||"",email:l.user?.email||"",password:""}),i=g(!1),p=async()=>{if(l.user?.id){i.value=!0;try{const o=await m.updateUser(l.user.id,{first_name:t.first_name,last_name:t.last_name,email:t.email});l.user={...l.user,...o},u.success("تم تحديث البيانات بنجاح")}catch{u.error("حدث خطأ أثناء التحديث")}finally{i.value=!1}}};return(o,e)=>(x(),y("div",h,[e[6]||(e[6]=s("header",{class:"section-header"},[s("h1",null,"إعدادات الحساب")],-1)),s("form",{onSubmit:U(p,["prevent"]),class:"settings-form"},[s("div",k,[s("div",q,[e[3]||(e[3]=s("label",null,"الاسم الأول",-1)),r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).first_name=n),type:"text",class:"input-field",required:""},null,512),[[d,a(t).first_name]])]),s("div",A,[e[4]||(e[4]=s("label",null,"اسم العائلة",-1)),r(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).last_name=n),type:"text",class:"input-field",required:""},null,512),[[d,a(t).last_name]])])]),s("div",B,[e[5]||(e[5]=s("label",null,"البريد الإلكتروني",-1)),r(s("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).email=n),type:"email",class:"input-field",required:"",dir:"ltr"},null,512),[[d,a(t).email]])]),s("div",S,[s("button",{type:"submit",class:"btn btn-primary",disabled:a(i)},w(a(i)?"جاري الحفظ...":"حفظ التغييرات"),9,D)])],32)]))}}),C=V(I,[["__scopeId","data-v-38fa25f2"]]);export{C as default};
