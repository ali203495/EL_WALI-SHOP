import{d as g,y as _,l as C,V as h,r as i,o as k,c as d,a as u,e,m as w,F as x,C as F,A as y,n as A,v as M,t as f,i as S}from"./Bd9HA-jC.js";const V={dir:"rtl"},$={class:"header"},B={class:"table-container"},D={class:"data-table"},L=["onClick"],N={class:"modal"},T={class:"form-group"},q={class:"form-actions"},E=["disabled"],I=g({__name:"categories",setup(U){const c=_();C();const o=h(),m=i([]),l=i(!1),n=i(!1),r=i({name:""}),v=async()=>{try{const{data:a}=await c.getCategories();m.value=a.value||[]}catch{o.error("Failed to fetch categories")}},b=async()=>{try{n.value=!0,await c.createCategory(r.value),o.success("Category added successfully"),l.value=!1,r.value.name="",await v()}catch(a){o.error(a.response?._data?.detail||"Failed to create category")}finally{n.value=!1}},p=async a=>{if(confirm("Are you sure you want to delete this category?"))try{await c.deleteCategory(a),o.success("Category deleted"),await v()}catch(t){o.error(t.response?._data?.detail||"Failed to delete category")}};return k(()=>{v()}),(a,t)=>(u(),d("div",V,[e("div",$,[t[4]||(t[4]=e("h1",null,"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª",-1)),e("button",{onClick:t[0]||(t[0]=s=>l.value=!0),class:"btn btn-primary"},"+ Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø©")]),e("div",B,[e("table",D,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",null,"Ø§Ù„Ø§Ø³Ù…"),e("th",null,"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),e("tbody",null,[(u(!0),d(x,null,F(m.value,s=>(u(),d("tr",{key:s.id},[e("td",null,f(s.name),1),e("td",null,[e("button",{onClick:j=>p(s.id),class:"btn-icon text-danger",title:"Ø­Ø°Ù"}," ğŸ—‘ï¸ ",8,L)])]))),128))])])]),l.value?(u(),d("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=y(s=>l.value=!1,["self"]))},[e("div",N,[t[7]||(t[7]=e("h2",null,"Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©",-1)),e("form",{onSubmit:y(b,["prevent"]),class:"form-grid"},[e("div",T,[t[6]||(t[6]=e("label",null,"Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø©",-1)),A(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.name=s),required:"",class:"input"},null,512),[[M,r.value.name]])]),e("div",q,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>l.value=!1),class:"btn btn-outline"},"Ø¥Ù„ØºØ§Ø¡"),e("button",{type:"submit",class:"btn btn-primary",disabled:n.value},f(n.value?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...":"Ø¥Ø¶Ø§ÙØ©"),9,E)])],32)])])):w("",!0)]))}}),G=S(I,[["__scopeId","data-v-614c917b"]]);export{G as default};
