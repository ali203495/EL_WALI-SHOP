import{d as f,j as _,s as c,U as v,H as b,r as g,c as y,e as s,l as r,v as d,z as a,t as x,y as U,a as w,i as V}from"./mt9UUtP3.js";const h={class:"settings-page"},q={class:"form-row"},B={class:"form-group"},S={class:"form-group"},k={class:"form-group"},A={class:"form-actions"},D=["disabled"],M=f({__name:"settings",setup(T){const l=_(),m=c(),u=v(),t=b({first_name:l.user?.first_name||"",last_name:l.user?.last_name||"",email:l.user?.email||"",password:""}),n=g(!1),p=async()=>{if(l.user?.id){n.value=!0;try{const o=await m.updateUser(l.user.id,{first_name:t.first_name,last_name:t.last_name,email:t.email});l.user={...l.user,...o},u.success("تم تحديث البيانات بنجاح")}catch{u.error("حدث خطأ أثناء التحديث")}finally{n.value=!1}}};return(o,e)=>(w(),y("div",h,[e[6]||(e[6]=s("header",{class:"section-header"},[s("h1",null,"إعدادات الحساب")],-1)),s("form",{onSubmit:U(p,["prevent"]),class:"settings-form"},[s("div",q,[s("div",B,[e[3]||(e[3]=s("label",null,"الاسم الأول",-1)),r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>a(t).first_name=i),type:"text",class:"input-field",required:""},null,512),[[d,a(t).first_name]])]),s("div",S,[e[4]||(e[4]=s("label",null,"اسم العائلة",-1)),r(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>a(t).last_name=i),type:"text",class:"input-field",required:""},null,512),[[d,a(t).last_name]])])]),s("div",k,[e[5]||(e[5]=s("label",null,"البريد الإلكتروني",-1)),r(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>a(t).email=i),type:"email",class:"input-field",required:"",dir:"ltr"},null,512),[[d,a(t).email]])]),s("div",A,[s("button",{type:"submit",class:"btn btn-primary",disabled:a(n)},x(a(n)?"جاري الحفظ...":"حفظ التغييرات"),9,D)])],32)]))}}),z=V(M,[["__scopeId","data-v-38fa25f2"]]);export{z as default};
