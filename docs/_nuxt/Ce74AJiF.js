import{d as F,u as P,s as z,J as E,r as _,H as C,o as T,n as $,g as y,c,e as t,f as D,w as I,l as n,k,v as r,z as e,C as u,t as d,G as M,F as L,B as R,h as b,_ as A,a as f,i as B}from"./mt9UUtP3.js";import{u as H}from"./BFEOh3so.js";const O={class:"checkout-page"},J={class:"checkout-header"},K={class:"container"},X={class:"container checkout-container"},Y={class:"form-section"},j={class:"section-block"},G={class:"form-group"},W={key:0,class:"error-msg"},Z={class:"section-block"},Q={class:"form-row"},tt={class:"form-group"},st={class:"form-group"},et={class:"form-group"},ot={class:"form-row three-col"},lt={class:"form-group"},at={class:"form-group"},it={class:"form-group"},nt={class:"section-block"},rt={class:"credit-card-mock"},dt={class:"form-group"},ut={class:"input-with-icon"},pt={class:"form-row"},mt={class:"form-group"},ct={class:"form-group small"},ft={class:"form-group small"},yt=["disabled"],vt={class:"summary-section"},gt={class:"summary-card"},bt={class:"summary-items"},xt={class:"item-img-wrapper"},Nt=["src","alt"],_t={class:"item-qty-badge"},Ct={class:"item-info"},kt={class:"item-price"},Ut={class:"summary-totals"},Vt={class:"total-row"},wt={class:"total-row"},St={class:"total-row grand-total"},ht=["disabled"],qt={key:0,class:"spinner"},Ft=F({__name:"checkout",setup(Pt){P({title:"Checkout | LUXE.TECH",meta:[{name:"robots",content:"noindex"}]});const{cart:v,subtotal:U,tax:V,total:g,clearCart:w}=H(),S=z(),h=E(),p=_(!1),x=_(0),o=C({email:"",firstName:"",lastName:"",address:"",city:"",country:"US",zip:"",cardName:"",cardNumber:"",expDate:"",cvc:""}),a=C({email:"",firstName:"",lastName:"",address:"",city:"",zip:"",cardNumber:"",cvc:""}),q=()=>{let i=!0;return Object.keys(a).forEach(s=>{a[s]=""}),o.email.includes("@")||(a.email="Valid email required",i=!1),o.firstName||(a.firstName="Required",i=!1),o.lastName||(a.lastName="Required",i=!1),o.address||(a.address="Required",i=!1),o.city||(a.city="Required",i=!1),o.zip||(a.zip="Required",i=!1),o.cardNumber.length<16&&(a.cardNumber="Invalid number",i=!1),o.cvc.length<3&&(a.cvc="Invalid CVC",i=!1),i},N=async()=>{if(!q()){y.to(".checkout-form",{x:[-10,10,-10,10,0],duration:.4});return}p.value=!0,x.value=1;try{await new Promise(m=>setTimeout(m,2e3));const i=v.value.map(m=>({product_id:m.product.id,quantity:m.quantity})),s=await S.createOrder({items:i});w(),h.push({path:"/confirmation",query:{orderId:s.id}})}catch{alert("Failed to place order. Please try again."),p.value=!1,x.value=0}};return T(()=>{if(v.value.length===0){$("/catalog");return}y.from(".checkout-container",{opacity:0,duration:.6}),y.from(".form-section",{y:30,opacity:0,duration:.6,delay:.2}),y.from(".summary-section",{y:30,opacity:0,duration:.6,delay:.4})}),(i,s)=>{const m=A;return f(),c("div",O,[t("div",J,[t("div",K,[D(m,{to:"/",class:"logo"},{default:I(()=>[...s[11]||(s[11]=[b("LUXE",-1),t("span",{class:"highlight"},".TECH",-1)])]),_:1})])]),t("div",X,[t("div",Y,[t("section",j,[s[13]||(s[13]=t("h2",null,"Contact Information",-1)),t("div",G,[s[12]||(s[12]=t("label",null,"Email Address",-1)),n(t("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>e(o).email=l),type:"email",class:u(["input-field",{error:e(a).email}]),placeholder:"you@email.com"},null,2),[[r,e(o).email]]),e(a).email?(f(),c("span",W,d(e(a).email),1)):k("",!0)])]),t("section",Z,[s[21]||(s[21]=t("h2",null,"Shipping Address",-1)),t("div",Q,[t("div",tt,[s[14]||(s[14]=t("label",null,"First Name",-1)),n(t("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>e(o).firstName=l),type:"text",class:u(["input-field",{error:e(a).firstName}])},null,2),[[r,e(o).firstName]])]),t("div",st,[s[15]||(s[15]=t("label",null,"Last Name",-1)),n(t("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>e(o).lastName=l),type:"text",class:u(["input-field",{error:e(a).lastName}])},null,2),[[r,e(o).lastName]])])]),t("div",et,[s[16]||(s[16]=t("label",null,"Address",-1)),n(t("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>e(o).address=l),type:"text",class:u(["input-field",{error:e(a).address}]),placeholder:"123 Main St"},null,2),[[r,e(o).address]])]),t("div",ot,[t("div",lt,[s[17]||(s[17]=t("label",null,"City",-1)),n(t("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>e(o).city=l),type:"text",class:u(["input-field",{error:e(a).city}])},null,2),[[r,e(o).city]])]),t("div",at,[s[19]||(s[19]=t("label",null,"Country",-1)),n(t("select",{"onUpdate:modelValue":s[5]||(s[5]=l=>e(o).country=l),class:"input-field select-field"},[...s[18]||(s[18]=[t("option",{value:"US"},"United States",-1),t("option",{value:"CA"},"Canada",-1),t("option",{value:"UK"},"United Kingdom",-1)])],512),[[M,e(o).country]])]),t("div",it,[s[20]||(s[20]=t("label",null,"ZIP / Postal",-1)),n(t("input",{"onUpdate:modelValue":s[6]||(s[6]=l=>e(o).zip=l),type:"text",class:u(["input-field",{error:e(a).zip}])},null,2),[[r,e(o).zip]])])])]),t("section",nt,[s[27]||(s[27]=t("h2",null,"Payment Method",-1)),t("div",rt,[t("div",dt,[s[23]||(s[23]=t("label",null,"Card Number",-1)),t("div",ut,[s[22]||(s[22]=t("span",{class:"input-icon"},"ðŸ’³",-1)),n(t("input",{"onUpdate:modelValue":s[7]||(s[7]=l=>e(o).cardNumber=l),type:"text",class:u(["input-field",{error:e(a).cardNumber}]),placeholder:"0000 0000 0000 0000",maxlength:"19"},null,2),[[r,e(o).cardNumber]])])]),t("div",pt,[t("div",mt,[s[24]||(s[24]=t("label",null,"Name on Card",-1)),n(t("input",{"onUpdate:modelValue":s[8]||(s[8]=l=>e(o).cardName=l),type:"text",class:"input-field",placeholder:"John Doe"},null,512),[[r,e(o).cardName]])]),t("div",ct,[s[25]||(s[25]=t("label",null,"Exp",-1)),n(t("input",{"onUpdate:modelValue":s[9]||(s[9]=l=>e(o).expDate=l),type:"text",class:"input-field",placeholder:"MM/YY",maxlength:"5"},null,512),[[r,e(o).expDate]])]),t("div",ft,[s[26]||(s[26]=t("label",null,"CVC",-1)),n(t("input",{"onUpdate:modelValue":s[10]||(s[10]=l=>e(o).cvc=l),type:"text",class:u(["input-field",{error:e(a).cvc}]),placeholder:"123",maxlength:"4"},null,2),[[r,e(o).cvc]])])])]),s[28]||(s[28]=t("p",{class:"secure-note"},"ðŸ”’ Payments are secure and encrypted.",-1))]),t("button",{class:"btn btn-primary btn-lg place-order-btn mobile-only",onClick:N,disabled:e(p)},d(e(p)?"Processing...":`Pay $${e(g).toFixed(2)}`),9,yt)]),t("div",vt,[t("div",gt,[s[34]||(s[34]=t("h2",null,"Order Summary",-1)),t("div",bt,[(f(!0),c(L,null,R(e(v),l=>(f(),c("div",{key:l.product.id,class:"summary-item"},[t("div",xt,[t("img",{src:l.product.image_url,alt:l.product.name},null,8,Nt),t("span",_t,d(l.quantity),1)]),t("div",Ct,[t("span",null,d(l.product.name),1)]),t("span",kt,"$"+d((l.product.price*l.quantity).toLocaleString()),1)]))),128))]),t("div",Ut,[t("div",Vt,[s[29]||(s[29]=t("span",null,"Subtotal",-1)),t("span",null,"$"+d(e(U).toFixed(2)),1)]),s[33]||(s[33]=t("div",{class:"total-row"},[t("span",null,"Shipping"),t("span",null,"Free")],-1)),t("div",wt,[s[30]||(s[30]=t("span",null,"Tax (8%)",-1)),t("span",null,"$"+d(e(V).toFixed(2)),1)]),t("div",St,[s[32]||(s[32]=t("span",null,"Total",-1)),t("span",null,[s[31]||(s[31]=t("span",{class:"currency"},"USD",-1)),b(" $"+d(e(g).toFixed(2)),1)])])]),t("button",{class:"btn btn-primary btn-lg place-order-btn desktop-only",onClick:N,disabled:e(p)},[e(p)?(f(),c("span",qt)):k("",!0),b(" "+d(e(p)?"Processing...":`Pay $${e(g).toFixed(2)}`),1)],8,ht)])])])])}}}),Tt=B(Ft,[["__scopeId","data-v-a96754d7"]]);export{Tt as default};
