import{d as F,u as P,y as z,K as T,r as k,I as x,o as $,q as E,g as f,c as m,a as y,e as s,f as I,w as L,h as g,_ as R,b as A,n as r,m as h,v as c,k as e,D as p,t as n,H as D,F as M,C as H,i as O}from"./Bd9HA-jC.js";import{u as B}from"./BJTvu6oo.js";const K={class:"checkout-page"},X={class:"checkout-header"},j={class:"container"},W={class:"container checkout-container"},Z={class:"form-section"},G={class:"section-block"},J={class:"form-group"},Q={key:0,class:"error-msg"},Y={class:"section-block"},ss={class:"form-row"},ts={class:"form-group"},es={class:"form-group"},as={class:"form-group"},os={class:"form-row three-col"},is={class:"form-group"},ls={class:"form-group"},ns={class:"form-group"},ds=["disabled"],rs={class:"summary-section"},us={class:"summary-card"},cs={class:"summary-items"},ps={class:"item-img-wrapper"},ms=["src","alt"],ys={class:"item-qty-badge"},fs={class:"item-info"},vs={class:"item-price"},_s={class:"summary-totals"},gs={class:"total-row"},bs={class:"total-row"},Ns={class:"total-row grand-total"},ks=["disabled"],xs={key:0,class:"spinner"},hs=F({__name:"checkout",setup(Cs){P({title:"Checkout | LUXE.TECH",meta:[{name:"robots",content:"noindex"}]});const{cart:v,subtotal:C,tax:S,total:_,clearCart:U}=B(),w=z(),V=T(),d=k(!1),b=k(0),a=x({email:"",firstName:"",lastName:"",address:"",city:"",country:"US",zip:""}),i=x({email:"",firstName:"",lastName:"",address:"",city:"",zip:""}),q=()=>{let l=!0;return Object.keys(i).forEach(t=>{i[t]=""}),a.email.includes("@")||(i.email="Valid email required",l=!1),a.firstName||(i.firstName="Required",l=!1),a.lastName||(i.lastName="Required",l=!1),a.address||(i.address="Required",l=!1),a.city||(i.city="Required",l=!1),a.zip||(i.zip="Required",l=!1),l},N=async()=>{if(!q()){f.to(".checkout-form",{x:[-10,10,-10,10,0],duration:.4});return}d.value=!0,b.value=1;try{await new Promise(u=>setTimeout(u,2e3));const l=v.value.map(u=>({product_id:u.product.id,quantity:u.quantity})),t=await w.createOrder({items:l,email:a.email,firstName:a.firstName,lastName:a.lastName,address:a.address,city:a.city,country:a.country,zip:a.zip});U(),V.push({path:"/confirmation",query:{orderId:t.id}})}catch{alert("Failed to place order. Please try again."),d.value=!1,b.value=0}};return $(()=>{if(v.value.length===0){E("/catalog");return}f.from(".checkout-container",{opacity:0,duration:.6}),f.from(".form-section",{y:30,opacity:0,duration:.6,delay:.2}),f.from(".summary-section",{y:30,opacity:0,duration:.6,delay:.4})}),(l,t)=>{const u=R;return y(),m("div",K,[s("div",X,[s("div",j,[I(u,{to:"/",class:"logo"},{default:L(()=>[...t[7]||(t[7]=[g("LUXE",-1),s("span",{class:"highlight"},".TECH",-1)])]),_:1})])]),s("div",W,[s("div",Z,[s("section",G,[t[9]||(t[9]=s("h2",null,"Contact Information",-1)),s("div",J,[t[8]||(t[8]=s("label",null,"Email Address",-1)),r(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e(a).email=o),type:"email",class:p(["input-field",{error:e(i).email}]),placeholder:"you@email.com"},null,2),[[c,e(a).email]]),e(i).email?(y(),m("span",Q,n(e(i).email),1)):h("",!0)])]),s("section",Y,[t[17]||(t[17]=s("h2",null,"Shipping Address",-1)),s("div",ss,[s("div",ts,[t[10]||(t[10]=s("label",null,"First Name",-1)),r(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e(a).firstName=o),type:"text",class:p(["input-field",{error:e(i).firstName}])},null,2),[[c,e(a).firstName]])]),s("div",es,[t[11]||(t[11]=s("label",null,"Last Name",-1)),r(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e(a).lastName=o),type:"text",class:p(["input-field",{error:e(i).lastName}])},null,2),[[c,e(a).lastName]])])]),s("div",as,[t[12]||(t[12]=s("label",null,"Address",-1)),r(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>e(a).address=o),type:"text",class:p(["input-field",{error:e(i).address}]),placeholder:"123 Main St"},null,2),[[c,e(a).address]])]),s("div",os,[s("div",is,[t[13]||(t[13]=s("label",null,"City",-1)),r(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>e(a).city=o),type:"text",class:p(["input-field",{error:e(i).city}])},null,2),[[c,e(a).city]])]),s("div",ls,[t[15]||(t[15]=s("label",null,"Country",-1)),r(s("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>e(a).country=o),class:"input-field select-field"},[...t[14]||(t[14]=[s("option",{value:"US"},"United States",-1),s("option",{value:"CA"},"Canada",-1),s("option",{value:"UK"},"United Kingdom",-1)])],512),[[D,e(a).country]])]),s("div",ns,[t[16]||(t[16]=s("label",null,"ZIP / Postal",-1)),r(s("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>e(a).zip=o),type:"text",class:p(["input-field",{error:e(i).zip}])},null,2),[[c,e(a).zip]])])])]),t[18]||(t[18]=A('<section class="section-block" data-v-187d6073><h2 data-v-187d6073>Payment Method</h2><div class="payment-method-cod" data-v-187d6073><div class="cod-option selected" data-v-187d6073><span class="icon" data-v-187d6073>ðŸ’µ</span><div class="cod-info" data-v-187d6073><span class="title" data-v-187d6073>Cash on Delivery</span><span class="desc" data-v-187d6073>Pay in cash when you receive your order</span></div><span class="check" data-v-187d6073>âœ“</span></div></div></section>',1)),s("button",{class:"btn btn-primary btn-lg place-order-btn mobile-only",onClick:N,disabled:e(d)},n(e(d)?"Processing...":`Pay $${e(_).toFixed(2)}`),9,ds)]),s("div",rs,[s("div",us,[t[24]||(t[24]=s("h2",null,"Order Summary",-1)),s("div",cs,[(y(!0),m(M,null,H(e(v),o=>(y(),m("div",{key:o.product.id,class:"summary-item"},[s("div",ps,[s("img",{src:o.product.image_url,alt:o.product.name},null,8,ms),s("span",ys,n(o.quantity),1)]),s("div",fs,[s("span",null,n(o.product.name),1)]),s("span",vs,"$"+n((o.product.price*o.quantity).toLocaleString()),1)]))),128))]),s("div",_s,[s("div",gs,[t[19]||(t[19]=s("span",null,"Subtotal",-1)),s("span",null,"$"+n(e(C).toFixed(2)),1)]),t[23]||(t[23]=s("div",{class:"total-row"},[s("span",null,"Shipping"),s("span",null,"Free")],-1)),s("div",bs,[t[20]||(t[20]=s("span",null,"Tax (8%)",-1)),s("span",null,"$"+n(e(S).toFixed(2)),1)]),s("div",Ns,[t[22]||(t[22]=s("span",null,"Total",-1)),s("span",null,[t[21]||(t[21]=s("span",{class:"currency"},"USD",-1)),g(" $"+n(e(_).toFixed(2)),1)])])]),s("button",{class:"btn btn-primary btn-lg place-order-btn desktop-only",onClick:N,disabled:e(d)},[e(d)?(y(),m("span",xs)):h("",!0),g(" "+n(e(d)?"Processing...":`Pay $${e(_).toFixed(2)}`),1)],8,ks)])])])])}}}),ws=O(hs,[["__scopeId","data-v-187d6073"]]);export{ws as default};
